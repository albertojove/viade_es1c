(this.webpackJsonpviade_es1c=this.webpackJsonpviade_es1c||[]).push([[0],{234:function(e,a,t){e.exports=t(410)},239:function(e,a,t){},240:function(e,a,t){},272:function(e,a,t){},386:function(e,a,t){},387:function(e,a,t){},395:function(e,a,t){},396:function(e,a,t){},397:function(e,a,t){},410:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(50),c=t.n(r),o=(t(239),t(240),t(241),t(57)),i=t(66),s=t(37),m=t(435),u=t(436),d=t(433),p=t(420),E=t(437),f=t(429),h=t(434),g=t(439),v=t(425),b=t(80),w=t(229),N=t(417),y=t(418),j=t(419),k=t(216),O=t(23),x=t(18),S=t.n(x),I=t(72),M=t.n(I),C=t(230),B=function(e){var a=e.id,t=e.options,n=e.defaultValue,r=e.onChange,c=Object(C.a)(e,["id","options","defaultValue","onChange"]);return l.a.createElement("div",{className:""},l.a.createElement("select",Object.assign({id:a,value:n,onChange:r},c),t&&t.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))))},L=t(34);t(271),t(272),t(164);delete S.a.Icon.Default.prototype._getIconUrl,S.a.Icon.Default.mergeOptions({iconRetinaUrl:t(273),iconUrl:t(274),shadowUrl:t(275)});var R=function(e){var a=Object(O.b)().t,r=Object(n.useState)(11),c=Object(s.a)(r,2),o=c[0],x=c[1],S=Object(n.useState)(),I=Object(s.a)(S,2),C=I[0],R=I[1],_=Object(n.useState)([43.354444,-5.851667]),D=Object(s.a)(_,2),U=D[0],F=D[1],T=Object(n.useState)(0),z=Object(s.a)(T,2),P=z[0],A=z[1],V=Object(n.useState)(0),W=Object(s.a)(V,2),H=W[0],J=W[1],q=Object(n.useState)([]),G=Object(s.a)(q,2),K=G[0],Q=G[1],X=Object(n.useState)([]),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useState)(!1),ae=Object(s.a)(ee,2),te=ae[0],ne=ae[1];return l.a.createElement("section",null,l.a.createElement(b.a,null,l.a.createElement(N.a,null,l.a.createElement(y.a,null,l.a.createElement("h1",{className:"myH1"},a("routes.title"))),l.a.createElement(y.a,null,l.a.createElement(j.a,{sm:10},l.a.createElement(y.a,null,l.a.createElement(m.a,{className:"map",center:U,zoom:o},l.a.createElement(u.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),te&&l.a.createElement("div",null,l.a.createElement(d.a,{color:"blue",positions:C}),l.a.createElement(p.a,{position:P},l.a.createElement(E.a,null,a("routes.origin"))),l.a.createElement(p.a,{position:H},l.a.createElement(E.a,null,a("routes.target")))))),l.a.createElement(y.a,null,te&&l.a.createElement(f.a,{style:{parent:{maxWidth:"35%"}},domainPadding:10,theme:h.a.material},l.a.createElement(g.a,{colorScale:"cool"},l.a.createElement(v.a,{data:Z}))))),l.a.createElement(j.a,null,l.a.createElement("div",null,l.a.createElement(k.a,{className:"visualizeButton",variant:"primary",onClick:function(e){var n=t(38);n.trackSession((function(t){if(t){var l=t.webId,r=l.slice(0,l.length-15).concat("public/MyRoutes/");e.preventDefault();var c=new M.a(n),o=[];c.readFolder(r,null).then((function(e){if(0===e.files.length)L.NotificationManager.warning(a("routes.loadWarningMessage"),a("routes.loadWarningTitle"),2e3);else{for(var t=0;t<e.files.length;t++){e.files[t].name.split(".")[1].localeCompare("json")||o.push(e.files[t].name.slice(0,e.files[t].name.length-5))}L.NotificationManager.success(a("routes.successLoadMessage"),a("routes.successLoadTitle"),2e3),Q(o)}})).catch((function(e){return console.error("Error:"+e)}))}}))}},a("routes.loadButton")),l.a.createElement("h3",null,a("routes.select")),l.a.createElement(B,{id:"selectRoute",options:K}),l.a.createElement(k.a,{className:"visualizeButton",onClick:function(e){var n=t(38);n.trackSession((function(t){if(t){var l=t.webId,r=l.slice(0,l.length-15).concat("public/MyRoutes/");e.preventDefault();var c=document.getElementById("selectRoute").value.concat(".json");r=r.concat(c),new M.a(n).readFile(r,null).then((function(e){for(var a=JSON.parse(e),t=[],n=[],l=0;l<a.itinerary.numberOfItems;l++){var r=a.itinerary.itemListElement[l].item.latitude,c=a.itinerary.itemListElement[l].item.longitude,o=a.itinerary.itemListElement[l].item.elevation.split(" ");n.push({x:"P".concat(l+1),y:parseInt(o[0],10)}),t.push([r,c])}A(t[0]),J(t[t.length-1]),F(t[0]),R(t),x(11),$(n),ne(!0)})).catch((function(e){return L.NotificationManager.error(a("routes.errorMessage"),a("routes.errorTitle"),2e3)}))}}))}},a("routes.button"))))),l.a.createElement(L.NotificationContainer,null))),l.a.createElement(w.a,null,l.a.createElement(i.a,{to:"/"})))},_=t(27),D=t.n(_),U=t(68),F=(t(386),function(e){var a=Object(O.b)().t,n=0;function r(e){return c.apply(this,arguments)}function c(){return(c=Object(U.a)(D.a.mark((function e(l){var r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new FileReader,c=l.name,r.onload=function(e){var l=r.result,o=t(38);o.trackSession((function(t){if(t){var r=t.webId,i=r.slice(0,r.length-15).concat("public/MyRoutes/").concat(c);e.preventDefault();var s=new M.a(o);c.split(".")[1].localeCompare("json")?L.NotificationManager.error(a("upload.errorMessage"),a("upload.errorTitle"),2e3):s.createFile(i,l,"text/turtle",{}).then((function(e){0===n&&(L.NotificationManager.success(a("upload.successMessage"),a("upload.successTitle"),2e3),document.getElementById("fileArea").value="",n++)})).catch((function(e){return console.error("Error: ".concat(e))})),n=0}}))},r.readAsText(l);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return(s=Object(U.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.forEach(function(){var e=Object(U.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(U.a)(D.a.mark((function e(){var a,t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById("fileArea"),t=a.files,e.next=4,o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("section",null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",null,a("upload.title"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("span",null,a("upload.uploadPrompt")),l.a.createElement("input",{type:"file",id:"fileArea",multiple:!0})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(k.a,{onClick:function(){return m.apply(this,arguments)}},a("upload.button")))),l.a.createElement(L.NotificationContainer,null))),l.a.createElement(w.a,null,l.a.createElement(i.a,{to:"/"})))}),T=t(428),z=t(431),P=t(427),A=t(226),V=(t(387),t(423)),W=t(218),H=t(84),J=function(e){var a=Object(O.b)().t;return l.a.createElement("section",null,l.a.createElement(b.a,null,l.a.createElement(T.a,{className:"nav-color"},l.a.createElement("a",{className:"navbar-brand a-bar a-logo",href:"#/"},l.a.createElement("img",{src:"/viade_es1c/img/logoViaDe.svg",width:"100",height:"45",alt:"ViaDe icon"})),l.a.createElement(z.a,{className:"mr-auto"},l.a.createElement("a",{"data-tip":a("navBar.maps"),className:"navbar-link a-bar",href:"#/visualize"},l.a.createElement("img",{src:"/viade_es1c/img/icon/maps-icon.png",width:"40",height:"40",alt:"My tracks"})),l.a.createElement("a",{"data-tip":a("navBar.share-files"),className:"navbar-link a-bar",href:"#/share"},l.a.createElement("img",{src:"/viade_es1c/img/icon/share-files.svg",width:"27",height:"49",alt:"Share files"})),l.a.createElement("a",{"data-tip":a("navBar.upload"),className:"navbar-link a-bar",href:"#/upload"},l.a.createElement("img",{src:"/viade_es1c/img/icon/upload-icon.png",width:"40",height:"40",alt:"Upload track"})),l.a.createElement("a",{"data-tip":a("navBar.download"),className:"navbar-link a-bar a-download",href:"#/download"},l.a.createElement("img",{src:"/viade_es1c/img/icon/download-icon.svg",width:"31",height:"25",alt:"Download track"})),l.a.createElement("div",{className:"i18nMenu"},l.a.createElement(P.a,{className:"i18nMenu",variant:"light",title:a("nav.language")},l.a.createElement(A.a,null,l.a.createElement("div",{onClick:function(){return H.a.changeLanguage("en")}}," ENG ")),l.a.createElement(A.a,null,l.a.createElement("div",{onClick:function(){return H.a.changeLanguage("es")}}," ESP ")))),l.a.createElement(V.a,{className:"logout btn btn-light"},a("logout.button")),l.a.createElement(W.a,{place:"bottom",type:"dark",effect:"solid"})))))},q=(t(395),["Ruta1","Ruta2","Ruta3"]),G=function(e){e.webId,e.sendNotification,e.contact;var a=e.setContact,t=Date.now(),r=Object(n.useState)("".concat(t,".ttl")),c=Object(s.a)(r,1)[0],o=Object(O.b)().t,m=function(){alert(o("alert.message"))};return l.a.createElement("section",null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{onSubmit:m,className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",null,o("share.title")),l.a.createElement("hr",null)),l.a.createElement("form",{className:"modal-body"},l.a.createElement("span",null,o("share.createSharePrompt")),l.a.createElement("div",{className:"primera"},l.a.createElement("label",{className:"lab",htmlFor:"documentUriInput"},o("share.idLabel")),l.a.createElement(B,{className:"sel",options:q})),l.a.createElement("div",null,l.a.createElement("label",null,o("share.contactWebIDLabel"),l.a.createElement("input",{className:"correct-margin",type:"text",onChange:function(e){return a(e.target.value)},"data-testid":"webId"}))),l.a.createElement("div",null,l.a.createElement(k.a,{className:"correct-margin",type:"submit","data-testid":"form-submit"},o("share.shareTrack")),l.a.createElement(k.a,{className:"correct-margin",onClick:function(){m(),c("")}},o("share.resetShareForm")))))),l.a.createElement(L.NotificationContainer,null)),l.a.createElement(w.a,null,l.a.createElement(i.a,{to:"/"})))},K=t(38),Q=t.n(K),X=function(e){var a=Object(O.b)().t,n=new M.a(Q.a),r="";function c(e){r=e}function o(e){return s.apply(this,arguments)}function s(){return(s=Object(U.a)(D.a.mark((function e(a){var t,l,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFile(r);case 2:t=e.sent,l=new Blob([t],{type:"application/json"}),console.log(t),(c=document.getElementById("downFile")).href=URL.createObjectURL(l),c.download=a+".json",c.click();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(38).trackSession((function(e){if(e){var t=document.getElementById("txtUrl").value,n=e.webId;c(n.slice(0,n.length-15).concat("public/MyRoutes/"+t+".json")),o(t).catch((function(e){return L.NotificationManager.error(a("download.errorMessage"),a("download.errorTitle"),5500)}))}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("section",null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",null,a("download.title"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("h4",null,a("download.instruction")),l.a.createElement("input",{id:"txtUrl",type:"text"}),l.a.createElement("p",null,a("download.especificacion"))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("a",{href:"",id:"downFile"}," "),l.a.createElement(k.a,{onClick:function(){return m.apply(this,arguments)}}," ",a("download.button"))))),l.a.createElement(L.NotificationContainer,null)),l.a.createElement(w.a,null,l.a.createElement(i.a,{to:"/"})))},Y=t(111),Z=(t(396),function(e){var a=Object(O.b)().t,t=Object(Y.a)();return l.a.createElement("section",null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("img",{className:"myImg",src:"/viade_es1c/img/logoViaDe.svg",alt:"Logo ViaDe"})),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h1",{className:"h1-welcome"},a("welcome.welcome")),l.a.createElement("span",null,t)),l.a.createElement("div",{className:"col-sm"},l.a.createElement("h2",{className:"myH2"},a("welcome.title")),l.a.createElement("ul",null,l.a.createElement("li",null,a("welcome.presentation")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://arquisoft.github.io/viade_es1c/docs/"},a("welcome.documentation"))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/Arquisoft/viade_es1c"},a("welcome.repository")))))))),l.a.createElement(w.a,null,l.a.createElement(i.a,{to:"/"})))}),$=t(424),ee=(t(397),function(e){var a=Object(O.b)().t;return l.a.createElement("div",{style:{background:"url(/viade_es1c/img/background-image.jpg)",backgroundRepeat:"no-repeat",height:"100vh",width:"100vw",backgroundPosition:"center",backgroundSize:"cover"}},l.a.createElement(w.a,null,l.a.createElement("div",{className:"Login"},l.a.createElement("h2",null,a("login.title")),l.a.createElement("div",null,l.a.createElement($.a,{className:"btn btn-primary a-solid button-login",popup:"https://solid.github.io/solid-auth-client/dist/popup.html"},a("login.formButtonText"))),l.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},a("login.solidHelp")))),l.a.createElement(b.a,null,l.a.createElement(i.a,{to:"/welcome"})))});function ae(){return l.a.createElement(o.a,null,l.a.createElement(J,null),l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/welcome",component:Z}),l.a.createElement(i.b,{exact:!0,path:"/visualize",component:R}),l.a.createElement(i.b,{exact:!0,path:"/upload",component:F}),l.a.createElement(i.b,{exact:!0,path:"/share",component:G}),l.a.createElement(i.b,{exact:!0,path:"/download",component:X}),l.a.createElement(i.b,{exact:!0,path:"/login",component:ee}),l.a.createElement(i.b,{exact:!0,path:"/",component:ee}),l.a.createElement(i.a,{to:"/"})))}var te=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(ae,null))},ne=t(227),le=t.n(ne),re=t(228),ce=t.n(re),oe=new le.a(null,{loadPath:"locales/{{lng}}/{{ns}}.json"});H.a.use(oe).use(ce.a).use(O.a).init({fallbackLng:"en",debug:!1,whitelist:["en","es"],react:{wait:!0,useSuspense:!1}});H.a;c.a.render(l.a.createElement(te,null),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.5ef21426.chunk.js.map